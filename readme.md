# Сравнение алгоритмов поиска кратчайшего пути*

## Обзор проекта

Проект — консольное приложение, предназначенное для нахождения кратчайшего пути между точками, расположенными на поверхности планеты, разными алгоритмами. В рамках функционала приложения также реализован функционал измерения времени работы выбранного алгоритма. На данном этапе разработки приложения реализованы два алгоритма: алгоритм Дейкстры и алгоритм A*.

Для тестирования и апробации приложения были подготовлены специальные датасеты, доступные для скачивания по [ссылке](https://drive.google.com/drive/folders/1E-PJGS-B3tRxtG-iCZBhy_b1Lj_kj0jU?usp=sharing). В папке `datasets` содержатся "сырые" данные в формате osm, а в папке `graph` представлены данные, которые могут быть переданы на вход программе.

Датасеты были получены с веб-ресурса [geofabrik.de](https://www.geofabrik.de/) в формате pbf. После получения данных, с помощью утилиты osmium была проведена конвертация в формат osm. Далее был разработан скрипт на языке программирования Python (`parse.py`), который осуществлял конвертацию данных из формата osm в более удобный для дальнейшего чтения программой формат.

В каталоге `scripts` представлены скрипты, используемые для подготовки датасетов:

- `dataset_prepare.sh` — скрипт на языке bash для загрузки и фильтрации данных.

- `parse.py` — скрипт на языке Python для конвертации данных из формата osm в удобный для дальнейшего использования формат.

### Аргументы для запуска

Для парсинга аргументов командной строки программа использует библиотеку [argparse](https://github.com/p-ranav/argparse).

1. `--algorithm`
   - **По умолчанию:** `dijkstra`
   - **Описание:** Алгоритм, который следует использовать. Возможные варианты: `dijkstra`, `astar`.

2. `--debug`
   - **Флаг**
   - **Описание:** Если установлен, выводить информацию для отладки [путь, использованные вершины].

3. `--graph_file`
   - **Обязательный**
   - **Описание:** Файл с данными графа, полученный после выполнения скрипта `parse.py`.

4. `--coords_file`
   - **Обязательный**
   - **Описание:** Файл с координатами вершин графа, полученный после выполнения скрипта `parse.py`.

5. `--from`
   - **Обязательный**
   - **Описание:** Начальная точка алгоритма [целое число от 0 до размера графа].

6. `--to`
   - **Обязательный**
   - **Описание:** Точка, до которой надо найти расстояние [целое число от 0 до размера графа].

7. `--output_file`
   - **Описание:** Если установлен, записать информацию в файл. В противном случае выводить в консоль.
### 

## Запуск 

### Подготовка системы 

```
sudo apt-get update
sudo apt-get upgrade
```

### Установка зависимостей

```
sudo apt-get install cmake
```

### Сборка

<u>Запускается из корня проекта</u>    

```
mkdir build
cd build/
cmake -DCMAKE_BUILD_TYPE=Release ..
cmake --build .
```

### Пример запуска

```
./shortest_path \
    --algorithm astar \
    --graph_file ./graph/graph_bel.txt \
    --coords_file ./graph/coords_bel.txt \
    --from 1 \
    --to 0 \
    --debug \
    --output_file output.txt
```